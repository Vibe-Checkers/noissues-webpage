# Dockerfile for Chart.js
# Generated by Planner Agent
# Repository: https://github.com/chartjs/Chart.js
# Analysis Date: 2025-12-20 20:59:19

FROM node:20-slim AS build
WORKDIR /app
# Install the workspace package manager
RUN npm install -g pnpm
# Install dependencies (workspace aware)
COPY package.json pnpm-workspace.yaml pnpm-lock.yaml ./
RUN pnpm install
# Copy the rest of the source and build
COPY . .
RUN pnpm -w build

FROM node:20-slim
WORKDIR /app
# Copy built artifacts from the builder stage
COPY --from=build /app/dist ./dist
COPY --from=build /app/package.json ./package.json
COPY --from=build /app/README.md ./README.md
# Optional: ensure a minimal runtime for library usage
CMD ["node", "-e", "console.log('Chart.js dist ready')"]

